<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html">
<f:view locale="#{loginBean.locale}">
	<f:loadBundle basename="messages" var="msg" />
	<h:head>
		<meta http-equiv="X-UA-Compatible" content="IE-edge" />
		<meta name="viewport" content="width-device-width, initial-scale=1" />
		<link rel="stylesheet" href="../css/bootstrap.css" />
		<link rel="stylesheet" href="../css/bootstrap-theme.css" />
		<link rel="stylesheet" href="../css/superpass.css" />
		<script src="../scripts/jquery-3.1.1.min.js"></script>
		<script src="../scripts/bootstrap.js"></script>
		<title><h:outputText value="#{msg.title}" /></title>
	</h:head>
	<h:body>
		<div class="container">
			<!-- Holt das Sprachmenu -->
			<ui:include src="../templates/menu_language.xhtml" />
			<div class="jumbotron">
				<p>
					<h:outputText value="#{msg.yourPasswords}" />
				</p>
			</div>
			<div>
				<!-- Holt das Hauptmenu -->
				<ui:include src="/templates/menu.xhtml" />
			</div>
			<div>
			<h:messages infoClass="info" errorClass="error" globalOnly="true" />	
			</div>
			<div class="content">
				<h:form>
					<div class="form-group">
						<label>#{msg.yourEmail}</label>
						<h:inputText value="#{loginBean.user.userEmail}" id="userEmail"
							required="true" requiredMessage="#{msg.notNull}"
							styleClass="form-control">
						</h:inputText>
						<h:message for="userEmail" style="color:red" />
					</div>
					<div class="form-group">
						<label>#{msg.yourName}</label>
						<h:inputText value="#{loginBean.user.userName}" id="userName"
							required="true" requiredMessage="#{msg.notNull}"
							styleClass="form-control" />
						<h:message for="userName" style="color:red" />
					</div>
					<div class="form-group">
						<label>#{msg.yourOldPassword}</label>
						<h:inputSecret id="userPassword" required="true" value="#{indexActionBean.oldPassword}"
							requiredMessage="#{msg.notNull}" styleClass="form-control" />
						<h:message for="userPassword" style="color:red" />
					</div>

					<div class="form-group">
						<label>#{msg.yourNewPassword}</label>
						<h:inputSecret id="userNewPassword" required="true"
							requiredMessage="#{msg.notNull}" styleClass="form-control"
							value="#{indexActionBean.newPassword}" />
						<h:message for="userNewPassword" style="color:red" />
					</div>

					<div class="row">
						<div class="col-lg-12"></div>
						<h:commandButton action="#{indexActionBean.updateUser}"
							value="#{msg.update}" styleClass="btn btn-success" />
					</div>
				</h:form>
			</div>
		</div>
	</h:body>
</f:view>
</html>

